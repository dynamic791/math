import java.lang.Math;
import java.util.Scanner;
public class WallisProductPi {
    public static void main(String[] args) {
        /*
        The Wallis Product is a way of approximating π by taking the product of numbers.
        It is defined as:
        π/2 = Π,n ≥ 1 4n²/(4n²-1).
        The first few terms are (2/1*2/3)*(4/3*4/5)...
        As more terms are included, the product becomes a better approximation of π/2
        This program will multiply the final result by 2 to approximate π
         */
        Scanner scanner = new Scanner(System.in);
        System.out.println("Enter the number of terms you would like to use in the approximation: ");
        long term_limit = scanner.nextLong();
        scanner.close();
        double pi_approx = 1; //
        for (long n = 1; n <= term_limit; n++) {
            pi_approx *= (2.0*n / (2*n - 1))*(2.0*n / (2*n + 1)); // 2.0 since integer will perform integer division otherwise
        }
        pi_approx *= 2;
        System.out.println("The Wallis Product with " + term_limit + " terms: " + pi_approx);
        double pi =  Math.PI;
        double difference = pi - pi_approx;
        System.out.println("Difference from pi: " + difference);
    }
}
